<?xml version="1.0" encoding="UTF-8" ?>
<Module>
    <!-- /*
 * Copyright (c) 2011 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License"); you may not
 * use this file except in compliance with the License. You may obtain a copy
 * of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS, WITHOUT
 * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the
 * License for the specific language governing permissions and limitations under
 * the License.
 */ -->
  <ModulePrefs title="Starter App">
    <Require feature="rpc"/>
  </ModulePrefs>
  <Content type="html"><![CDATA[
<!DOCTYPE html>
<!-- The hangout API JavaScript. Always include this first -->
<script src="//hangoutsapi.talkgadget.google.com/hangouts/api/hangout.js?v=1.0"></script>
<!-- The JavaScript for this app. This must always be a full URL not a
     relative path.
     Tip: You can load it from a local web server such as
     http://localhost/app.js for faster single user development -->
<script src="http://localhost/development/app.js"></script>
<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
<link rel="stylesheet" type="text/css" media="all" href="http://localhost/development/JavaScript-Playing-Cards/playingCards.ui.css">

<script src="http://localhost/development/JavaScript-Playing-Cards/playingCards.js"></script>
<script src="http://localhost/development/JavaScript-Playing-Cards/playingCards.ui.js"></script>
<h1 style="text-align: center;"><img src="http://localhost/development/hangouts-logo.png" 
    alt="Google+ Hangouts Logo" height="50" width="50">Market</h1>
<div style="float: left; padding: 0px 20px; border-right: 1px solid #EEE">
  <p>Collaborate with your friends to count to a big number!</p>
  <dl>
    <dt>Current count:</dt>
    <dd id="count"></dd>
    <dt>Player count:</dt>
    <dd id="participants"></dd>
  </dl>

  <input type=button value="Click Me!" id="countButton"
      onClick="countButtonClick()"/>
  <input type=button value="Reset" id="resetButton"
      onClick="resetButtonClick()"/>     
</div>
<div style="float: left; padding: 0px 20px">
  <p>Fetch some JSON from main.py</p>
  <dl>
    <dt>Message:</dt>
    <dd id="message"></dd>
  </dl>
  <input type=button value="Get Message" id="getMessageButton"
      onClick="getMessageClick()"/>
</div>
<div id="error" style="display: none;">your hand is empty</div>
    "your hand is empty"
</div>
<div id="yourHand"></div> 
<script>
var cardDeck = new playingCards(conf);
var hand = [];
    var showError = function(msg){
        $('#error').html(msg).show();
        setTimeout(function(){
            $('#error').fadeOut('slow');
        },3000);
    }
    var showHand = function(){
        var el = $('#yourHand')
        el.html('');
        for(var i=0;i<hand.length;i++){
            el.append(hand[i].getHTML());
        }
    }
    var doShuffle = function(){
        cardDeck.shuffle();
        cardDeck.spread(); // update card table
    }
    var doDrawCard = function(){
        var c = cardDeck.draw();
        if(!c){
            showError('no more cards');
            return;
        }
        hand[hand.length] = c;
        cardDeck.spread();
        showHand();
    }
cardDeck.doDrawCard();
</script>
<div style="clear: both;"></div>
]]></Content>
</Module>
